/*
* style-swiper v1.0.1 Copyright (c) 2020 AJ Savino
* https://github.com/koga73/style-swiper
* MIT License
*/
var StyleSwiper=function(e){var _=null,u={debug:!1,attributePageNum:StyleSwiper.DEFAULT_ATTRIBUTE_PAGE_NUM,classSlides:StyleSwiper.DEFAULT_CLASS_SLIDES,classBtnPrev:StyleSwiper.DEFAULT_CLASS_BTN_PREV,classBtnNext:StyleSwiper.DEFAULT_CLASS_BTN_NEXT,classPagination:StyleSwiper.DEFAULT_CLASS_PAGINATION,classPage:StyleSwiper.DEFAULT_CLASS_PAGE,classVisible:StyleSwiper.DEFAULT_CLASS_VISIBLE,classActive:StyleSwiper.DEFAULT_CLASS_ACTIVE,classHidden:StyleSwiper.DEFAULT_CLASS_HIDDEN,scrollDirection:StyleSwiper.DIRECTION.HORIZONTAL,scrollBehavior:"smooth",scrollDebounce:100,_containerEl:null,_slideEl:null,_btnPrevEl:null,_btnNextEl:null,_paginationEl:null,_slides:[],_slidesBounds:[],_pages:[],_resizer:null,_scrollTimeout:0,_activeIndex:0},S={init:function(e){_.debug&&console.log("StyleSwiper::init",e),(e=e||document)===document&&console.warn("Did you mean to pass 'document' to StyleSwiper?"),u._containerEl=e,"undefined"!=typeof Resizer&&(u._resizer=new Resizer({onResize:S._handler_resize})),_.updateSlides(),_.evalVisibility(),_.evalActive()},destroy:function(){_.debug&&console.log("StyleSwiper::destroy"),u._slideEl.removeEventListener("scroll",S._handler_scroll),clearTimeout(u._scrollTimeout),u._resizer&&(u._resizer.destroy(),u._resizer=null),S._clearPages(),u._pages=[],u._paginationEl=null,u._btnPrevEl&&u._btnPrevEl.removeEventListener("click",S._handler_prev_click),u._btnPrevEl=null,u._btnNextEl&&u._btnNextEl.removeEventListener("click",S._handler_next_click),u._btnNextEl=null,u._slidesBounds=[],u._slides=[],u._slideEl=null,u._containerEl=null},_clearPages:function(){if(_.debug&&console.log("StyleSwiper::clearPages"),u._paginationEl)for(;u._paginationEl.firstChild;)u._paginationEl.firstChild.removeEventListener("click",S._handler_page_click),u._paginationEl.removeChild(u._paginationEl.firstChild)},getSlides:function(){var e=u._slides;return _.debug&&console.log("StyleSwiper::getSlides",e),e},getVisible:function(){var e=u._slideEl.querySelectorAll("."+_.classVisible);return _.debug&&console.log("StyleSwiper::getVisible",e),e},getActive:function(){var e=u._slideEl.querySelector("."+_.classActive);return _.debug&&console.log("StyleSwiper::getActive",e),e},getActiveIndex:function(){var e=u._activeIndex;return _.debug&&console.log("StyleSwiper::getActive",e),e},updateSlides:function(){u._slideEl=u._containerEl.querySelector("."+_.classSlides),u._slideEl.children&&u._slideEl.children.length?u._slides=u._slideEl.children:u._slides=[],_.debug&&console.log("StyleSwiper::updateSlides",u._slides);var e=u._slides.length;if(e||console.warn("No slides in swiper:\n",u._slideEl),u._btnPrevEl=u._containerEl.querySelector("."+_.classBtnPrev),u._btnPrevEl&&u._btnPrevEl.addEventListener("click",S._handler_prev_click),_.debug&&console.log("StyleSwiper::updateSlides","found prev button"),u._btnNextEl=u._containerEl.querySelector("."+_.classBtnNext),u._btnNextEl&&u._btnNextEl.addEventListener("click",S._handler_next_click),_.debug&&console.log("StyleSwiper::updateSlides","found next button"),u._paginationEl=u._containerEl.querySelector("."+_.classPagination),u._paginationEl){S._clearPages(),u._pages=[];for(var l=0;l<e;l++){var s=document.createElement("button");s.setAttribute(_.attributePageNum,l),s.setAttribute("title","slide "+(l+1)),s.addEventListener("click",S._handler_page_click);var i=document.createElement("li");i.classList.add(_.classPage),i.appendChild(s),u._pages.push(i),u._paginationEl.appendChild(i)}_.debug&&console.log("StyleSwiper::updateSlides","created pagination",u._pages)}if(e?u._slideEl.addEventListener("scroll",S._handler_scroll):u._slideEl.removeEventListener("scroll",S._handler_scroll),!u._resizer)return console.warn("Resizer excluded - cache disabled"),void(u._slidesBounds=null);_.debug&&console.log("StyleSwiper::updateSlides","cache bounds"),u._slidesBounds=[];for(l=0;l<e;l++)u._slidesBounds.push(S._getBounds(u._slides[l]))},_getBounds:function(e){var l=null;if(u._slidesBounds)for(var s=u._slidesBounds.length,i=0;i<s;i++)if(u._slides[i]==e){l=u._slidesBounds[i];break}return l||(l=[e.offsetLeft,e.offsetTop,e.offsetLeft+e.clientWidth,e.offsetTop+e.clientHeight],_.debug&&console.log("StyleSwiper::_getBounds",e,l)),l},isVisible:function(e){var l=S._getScrollBounds(),s=S._getBounds(e),i=!1,t=s[0]>=l[0]&&s[0]<l[2]||s[2]>l[0]&&s[2]<l[2]||l[0]>=s[0]&&l[0]<s[2]||l[2]>s[0]&&l[2]<s[2],n=s[1]>=l[1]&&s[1]<l[3]||s[3]>l[1]&&s[3]<l[3]||l[1]>=s[1]&&l[1]<s[3]||l[3]>s[1]&&l[3]<s[3];return t&&n&&(i=!0),_.debug&&console.log("StyleSwiper::isVisible",e,i),i},_handler_scroll:function(e){_.scrollDebounce?(u._scrollTimeout&&clearTimeout(u._scrollTimeout),u._scrollTimeout=setTimeout(S._handler_scroll_timeout,_.scrollDebounce)):S._handler_scroll_timeout()},_handler_scroll_timeout:function(){_.debug&&console.log("StyleSwiper::_handler_scroll_timeout"),clearTimeout(u._scrollTimeout),_.evalVisibility(),_.evalActive()},_handler_resize:function(e,l){_.debug&&console.log("StyleSwiper::_handler_resize",e,l),_.updateSlides(),_.goto(u._activeIndex,!0)},_getScrollBounds:function(){var e=null;if(u._containerEl==document){var l=document.body.scrollLeft||document.documentElement.scrollLeft,s=document.body.scrollTop||document.documentElement.scrollTop;e=[l,s,l+window.innerWidth,s+window.innerHeight]}else switch(_.scrollDirection){default:case StyleSwiper.DIRECTION.HORIZONTAL:e=[u._slideEl.scrollLeft,0,u._slideEl.scrollLeft+u._slideEl.clientWidth,u._slideEl.scrollTop+u._slideEl.clientHeight];break;case StyleSwiper.DIRECTION.VERTICAL:e=[0,u._slideEl.scrollTop,u._slideEl.scrollLeft+u._slideEl.clientWidth,u._slideEl.scrollTop+u._slideEl.clientHeight];break;case StyleSwiper.DIRECTION.BOTH:e=[u._slideEl.scrollLeft,u._slideEl.scrollTop,u._slideEl.scrollLeft+u._slideEl.clientWidth,u._slideEl.scrollTop+u._slideEl.clientHeight]}return e},evalVisibility:function(){_.debug&&console.log("StyleSwiper::evalVisibility");for(var e=[],l=!1,s=!1,i=0<u._pages.length,t=u._slides.length,n=0;n<t;n++){var o=u._slides[n],c=i?u._pages[n]:null,a=_.isVisible(o);a?(o.classList.contains(_.classVisible)||o.classList.add(_.classVisible),e.push(o),c&&(c.classList.contains(_.classVisible)||c.classList.add(_.classVisible))):(o.classList.contains(_.classVisible)&&o.classList.remove(_.classVisible),c&&c.classList.contains(_.classVisible)&&c.classList.remove(_.classVisible)),0==n&&(l=a),n==t-1&&(s=a)}u._btnPrevEl&&(l?u._btnPrevEl.classList.contains(_.classHidden)||u._btnPrevEl.classList.add(_.classHidden):u._btnPrevEl.classList.contains(_.classHidden)&&u._btnPrevEl.classList.remove(_.classHidden)),u._btnNextEl&&(s?u._btnNextEl.classList.contains(_.classHidden)||u._btnNextEl.classList.add(_.classHidden):u._btnNextEl.classList.contains(_.classHidden)&&u._btnNextEl.classList.remove(_.classHidden)),u._paginationEl&&(e.length==t?u._paginationEl.classList.contains(_.classHidden)||u._paginationEl.classList.add(_.classHidden):u._paginationEl.classList.contains(_.classHidden)&&u._paginationEl.classList.remove(_.classHidden))},evalActive:function(){for(var e=S._getScrollBounds(),l=-1,s=-1,i=u._slides.length,t=0;t<i;t++){var n=S._getBounds(u._slides[t]),o=[Math.abs(e[0]-n[0]),Math.abs(e[1]-n[1])],c=Math.sqrt(Math.pow(o[0],2)+Math.pow(o[1],2));(-1==s||c<s)&&(s=c,l=t)}var a=0<u._pages.length;for(t=0;t<i;t++){var r=u._slides[t],d=a?u._pages[t]:null;t==l?(r.classList.contains(_.classActive)||r.classList.add(_.classActive),d&&(d.classList.contains(_.classActive)||d.classList.add(_.classActive))):(r.classList.contains(_.classActive)&&r.classList.remove(_.classActive),d&&d.classList.contains(_.classActive)&&d.classList.remove(_.classActive))}_.debug&&console.log("StyleSwiper::evalActive",l),u._activeIndex=l},previous:function(){_.goto(u._activeIndex-1)},next:function(){_.goto(u._activeIndex+1)},goto:function(e,l){if(u._slides.length){e=Math.max(Math.min(e,u._slides.length-1),0),l=!0===l,_.debug&&console.log("StyleSwiper::goto",e),u._activeIndex=e;var s=S._getBounds(u._slides[e]);u._slideEl.scrollLeft==s[0]&&u._slideEl.scrollTop==s[1]?(_.evalVisibility(),_.evalActive()):l||void 0===u._slideEl.scrollTo?(u._slideEl.scrollLeft=s[0],u._slideEl.scrollTop=s[1]):u._slideEl.scrollTo({left:s[0],top:s[1],behavior:_.scrollBehavior})}else console.warn("Cannot goto slide due to no slides!")},_handler_prev_click:function(){_.debug&&console.log("StyleSwiper::_handler_prev_click"),_.previous()},_handler_next_click:function(){_.debug&&console.log("StyleSwiper::_handler_next_click"),_.next()},_handler_page_click:function(e){var l=parseInt(e.target.getAttribute(_.attributePageNum));_.debug&&console.log("StyleSwiper::_handler_page_click",l),isNaN(l)||_.goto(l)}};_={debug:u.debug,attributePageNum:u.attributePageNum,classSlides:u.classSlides,classBtnPrev:u.classBtnPrev,classBtnNext:u.classBtnNext,classPagination:u.classPagination,classPage:u.classPage,classVisible:u.classVisible,classActive:u.classActive,classHidden:u.classHidden,scrollDirection:u.scrollDirection,scrollBehavior:u.scrollBehavior,scrollDebounce:u.scrollDebounce,init:S.init,destroy:S.destroy,getSlides:S.getSlides,getVisible:S.getVisible,getActive:S.getActive,getActiveIndex:S.getActiveIndex,updateSlides:S.updateSlides,isVisible:S.isVisible,evalVisibility:S.evalVisibility,evalActive:S.evalActive,previous:S.previous,next:S.next,goto:S.goto};var l=null;if(e){for(var s in e)_[s]=e[s];l=e.el||null}return _.init(l),_};StyleSwiper.DEFAULT_ATTRIBUTE_PAGE_NUM="data-page-num",StyleSwiper.DEFAULT_CLASS_SLIDES="style-swiper-slides",StyleSwiper.DEFAULT_CLASS_BTN_PREV="style-swiper-btn-prev",StyleSwiper.DEFAULT_CLASS_BTN_NEXT="style-swiper-btn-next",StyleSwiper.DEFAULT_CLASS_PAGINATION="style-swiper-pagination",StyleSwiper.DEFAULT_CLASS_PAGE="style-swiper-page",StyleSwiper.DEFAULT_CLASS_VISIBLE="style-swiper-visible",StyleSwiper.DEFAULT_CLASS_ACTIVE="style-swiper-active",StyleSwiper.DEFAULT_CLASS_HIDDEN="style-swiper-hidden",StyleSwiper.DIRECTION={HORIZONTAL:"horizontal",VERTICAL:"vertical",BOTH:"both"},window.StyleSwiper=StyleSwiper;